services:
  gui-tests-runner:
    volumes:
      - ${GUI_REPOSITORY}/tests/e2e_tests/playwright-qemu.config.ts:/e2e/playwright-qemu.config.ts
    environment:
      - CLIENT_IP

  client:
    image: registry.gitlab.com/northern.tech/mender/mender-qa:2211014311-mender-qemu-rofs-commercial
    environment:
      - SERVER_URL=https://docker.mender.io
      - TENANT_TOKEN
    ports:
      - '8822:8822' # Expose QEMU SSH port from container
    hostname: qemu-client
    networks:
      default:
        aliases:
          - qemu-client
          - client-device
